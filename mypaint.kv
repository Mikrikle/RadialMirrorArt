#:kivy 1.0

<CustomDropDown>:
    MDRoundFlatIconButton:
        font_size: "5sp"
        text:'Simple'
        icon:'current-ac'
        on_release:root.select(('simple', 'current-ac'))
    MDRoundFlatIconButton:
        font_size: "5sp"
        text:'Mirror'
        icon:'arrow-split-vertical'
        on_release:root.select(('symmetric', 'arrow-split-vertical'))
    MDRoundFlatIconButton:
        font_size: "5sp"
        text:'Double-mirror'
        icon:'crop-square'
        on_release:root.select(('square', 'crop-square'))
    MDRoundFlatIconButton:
        font_size: "5sp"
        text:'Radian'
        icon:'decagram-outline'
        on_release:root.select(('radian', 'decagram-outline'))
    MDRoundFlatIconButton:
        font_size: "5sp"
        text:'Radian-symmetric'
        icon:'decagram'
        on_release:root.select(('radian-symmetric', 'decagram'))



<ToolBox@BoxLayout>:
    size_hint:(1, .1)
    canvas.before:
        Color: 
            rgba: .1, .1, .1, 1
        Rectangle:
            size:(self.size[0], self.size[1])
            pos:(self.pos[0], self.pos[1])


<MyPaintWidget>:

<Container>:
    paint:paint
    MyPaintWidget:
        id:paint
        drawing_mode_select_btn:drawing_mode_select_btn
        pos_hint:{'x':0, 'y':.2}
        size_hint:(1,1)
        canvas.before:
            Color: 
                rgba: 1, 0, 0, 1
            Rectangle:
                size:(2, 2)
                pos:(self.size[0]//2-1, self.size[1]//2-1)


    ToolBox:
        pos_hint:{'x':0, 'y':.9}
        padding:20
        MDIconButton:
            icon:'undo'
            text:'undo'
            on_release:paint.undo()
        MDIconButton:
            icon:'redo'
            text:'redo'
            on_release:paint.redo()
        Widget:
        Widget:
        MDRoundFlatIconButton:
            id:drawing_mode_select_btn
            icon:'decagram-outline'
            text:'drawing type'
            on_release:paint.dropdown_drawing_mode_open_menu(self)

    ToolBox:
        pos_hint:{'x':0, 'y':0}
        MDIconButton:
            icon:'delete'
            text:'clear'
            on_release:paint.clear_canvas()



